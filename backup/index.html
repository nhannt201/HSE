<!doctype html>
<html lang="vi">
  <head>
    <title>Test</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

</head>
  <body>
      
    <!-- Nav -->
      <nav class="navbar navbar-expand-lg ">
          <div class="container">
          <a class="navbar-brand" href="#">
              <span>Green House</span>
          </a>

          <ul class="navbar-nav m-auto mt-2 mt-lg-0">
              <li class="nav-item active">
                  <a class="nav-link" href="#">
                      <span>Trang chủ</span>
                      <span>Trang chủ</span>
                </a>
              </li>
              <li class="nav-item ml-4">
                  <a class="nav-link" href="#">
                    <span>Giỏ Hàng</span>
                    <span>Giỏ Hàng</span>
                  </a>
              </li>
              <li class="nav-item ml-4">
                <a class="nav-link" href="#">
                  <span>Giới thiệu</span>
                  <span>Giới thiệu</span>
                </a>
            </li>
            </div>
          </ul>
      </nav>
    <!-- End Nav -->


    <!-- Page Content -->
  <div class="container">

    <div class="row">

      <!-- Post Content Column -->
      <div class="col-md-4">

        <!-- Search Widget - Cần thêm tuỳ chọn quận để tìm kiếm chính xác hơn-->
        <div class="card my-4">
          <h5 class="card-header maunen">Cộng Đồng Green House </h5>
          <div class="card-body">
            <div class="input-group">
              <input type="text" id="text_find" class="form-control" placeholder="Tìm kiếm ...">
              <span class="input-group-append">
                <button class="btn btn-secondary" onClick="clickSearch();" type="button">Go!</button>
              </span>
            </div>
          </div>
        </div>

        <!-- Categories Widget -->
    <div class="card my-4">
          <h5 class="card-header">Kênh Giỏ Hàng Chất Lượng Cao</h5>
          <div class="card-body">
            <div class="row">
              <div class="col-lg-6">
                <ul class="list-unstyled mb-0">
                  <li>
                    <a href="#" class="mb-3">Tân Bình</a>
                  </li>
                  <li>
                    <a href="#"class="mb-3">Quận 1</a>
                  </li>
                  <li>
                    <a href="#"class="mb-3"s>Quận 2</a>
                  </li>
                </ul>
              </div>
              <div class="col-lg-6">
                <ul class="list-unstyled mb-0">
                  <li>
                    <a href="#"class="mb-3">Bình Thạnh</a>
                  </li>
                  <li>
                    <a href="#"class="mb-3">Quận 10</a>
                  </li>
                  <li>
                    <a href="#"class="mb-3">Thủ Đức</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Side Widget -->
        <div class="card my-4">
          <h5 class="card-header">Giới Thiệu </h5>
          <div class="card-body">
                <div>
                    <i class="fa fa-map-marker"><span> &nbsp;51/14B Giải Phóng  P.4, Q.Tân Bình</span></i>
                </div>
                <div>
                    <i class="fa fa-phone"> &nbsp; <span>0966 109 724</span> </i>
                </div>
                <div>
                    <i class="fa fa-envelope">&nbsp; phanphuongnam0103@gmail.com</i>
                    <!-- <p><a href="mailto:support@homeplusvn.com">support@homeplusvn.com</a></p>
                </div> -->
            </div>
          </div>
        </div>

    </div>
      <div class="col-lg-8">
	  <div id="result">
	  <!--Block-->
        <div class="row">
            <div class="col-lg-4 mt-4">
                <img class="img-fluid rounded" src="" alt="">
            </div>
            <div class="col-lg-7 mt-4">
                <div>
                  
                  <div class="card-body">
                    <h4 class="card-title">TEST POST</h4>
					<p class="lead">AA</p>
                    <p class="card-text"></p>
					<a href="" class="btn btn-primary float-right"> <p class="xemchitiet">Xem Chi Tiet</p></a>
                  </div>
				
               
            </div>
        </div>
      </div>
      <hr> <!--End block-->
      </div>
    </div>
        
    <!-- /.row -->

  </div>
  <!-- /.container -->
	<script type="text/javascript">
		function clickSearch() {
			var get_keyword = document.getElementById("text_find").value;
			document.getElementById("result").innerHTML = "<div class='row text-center'>Searching '"+get_keyword+"'...</div>";
			readTextFile("/back_end/?q=" + get_keyword, function(text){
			var data = JSON.parse(text); //Lấ kết quả search JSON
			//console.log(data);
			document.getElementById("result").innerHTML = "Đã tìm thấy " + data.length + " kết quả!";
			data.forEach(printResult); //Đưa vào vòng lặp và in ra
			
		});
		}
		//Print result
		function printResult(item, index) {
		 // document.getElementById("demo").innerHTML += index + ":" + item + "<br>"; 
		  document.getElementById("result").innerHTML +=  '<!--Block-->'+
'        <div class="row">'+
'            <div class="col-lg-4 mt-4">'+
'                <img class="img-fluid rounded" src="' +item['image']+ '" alt="' +item['title']+ '">'+
'            </div>'+
'            <div class="col-lg-7 mt-4">'+
'                <div>'+
'                  '+
'                  <div class="card-body">'+
'                    <h4 class="card-title">' +item['title']+ '</h4>'+
'					<p class="lead">' +item['district']+ '</p>'+
'                    <p class="card-text">' +item['price']+ '</p>'+
'					<a href="'+item['link']+'" target="_blank" class="btn btn-primary float-right">Xem chi tiết</a>' +
'                  </div>'+
'				'+
'               '+
'            </div>'+
'        </div>'+
'      </div>'+
'      <hr>  <!--End block-->';
		}
		//read json
		function readTextFile(file, callback) {
			var rawFile = new XMLHttpRequest();
			rawFile.overrideMimeType("application/json");
			rawFile.open("GET", file, true);
			rawFile.onreadystatechange = function() {
				if (rawFile.readyState === 4 && rawFile.status == "200") {
					callback(rawFile.responseText);
				}
			}
			rawFile.send(null);
		}

		//usage:
		
	</script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>